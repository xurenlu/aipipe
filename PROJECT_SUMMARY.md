# AIPipe é¡¹ç›®å®Œæˆæ€»ç»“

## ğŸ‰ é¡¹ç›®æ¦‚è¿°

AIPipe æ˜¯ä¸€ä¸ªæ™ºèƒ½æ—¥å¿—ç›‘æ§å·¥å…·ï¼Œç°å·²æˆåŠŸæ·»åŠ äº†å®Œæ•´çš„é€šçŸ¥åŠŸèƒ½æ”¯æŒã€‚é¡¹ç›®æ”¯æŒå¤šç§é€šçŸ¥æ–¹å¼ï¼ŒåŒ…æ‹¬é‚®ä»¶ã€é’‰é’‰ã€ä¼ä¸šå¾®ä¿¡ã€é£ä¹¦ã€Slack ç­‰å¹³å°ã€‚

## âœ¨ æ–°å¢åŠŸèƒ½

### 1. å¤šé€šé“é€šçŸ¥æ”¯æŒ
- âœ… **é‚®ä»¶é€šçŸ¥**: æ”¯æŒ SMTP å’Œ Resend ä¸¤ç§æ–¹å¼
- âœ… **é’‰é’‰æœºå™¨äºº**: æ”¯æŒé’‰é’‰ç¾¤æœºå™¨äººé€šçŸ¥
- âœ… **ä¼ä¸šå¾®ä¿¡æœºå™¨äºº**: æ”¯æŒä¼ä¸šå¾®ä¿¡ç¾¤æœºå™¨äººé€šçŸ¥
- âœ… **é£ä¹¦æœºå™¨äºº**: æ”¯æŒé£ä¹¦ç¾¤æœºå™¨äººé€šçŸ¥
- âœ… **Slack Webhook**: æ”¯æŒ Slack é¢‘é“é€šçŸ¥
- âœ… **è‡ªå®šä¹‰ Webhook**: æ”¯æŒä»»æ„ HTTP webhook

### 2. æ™ºèƒ½è¯†åˆ«åŠŸèƒ½
- âœ… **è‡ªåŠ¨è¯†åˆ«**: è‡ªåŠ¨è¯†åˆ« webhook URL ç±»å‹
- âœ… **æ ¼å¼é€‚é…**: æ ¹æ®ä¸åŒå¹³å°è‡ªåŠ¨è°ƒæ•´æ¶ˆæ¯æ ¼å¼
- âœ… **é€šç”¨æ”¯æŒ**: æ”¯æŒè‡ªå®šä¹‰ webhook çš„é€šç”¨æ ¼å¼

### 3. é…ç½®åŒ–æ”¯æŒ
- âœ… **JSON é…ç½®**: å®Œæ•´çš„ JSON é…ç½®æ–‡ä»¶æ”¯æŒ
- âœ… **å¯é€‰å¯ç”¨**: æ‰€æœ‰é€šçŸ¥æ–¹å¼éƒ½å¯ä»¥ç‹¬ç«‹å¯ç”¨/ç¦ç”¨
- âœ… **çµæ´»é…ç½®**: æ”¯æŒå¤šä¸ªæ”¶ä»¶äººã€å¤šä¸ª webhook ç­‰

## ğŸ“ é¡¹ç›®æ–‡ä»¶ç»“æ„

### æ ¸å¿ƒæ–‡ä»¶
- `aipipe.go` - ä¸»ç¨‹åºæºä»£ç ï¼ˆå·²æ‰©å±•é€šçŸ¥åŠŸèƒ½ï¼‰
- `aipipe` - ç¼–è¯‘åçš„å¯æ‰§è¡Œæ–‡ä»¶
- `aipipe.json.example` - é…ç½®æ–‡ä»¶ç¤ºä¾‹ï¼ˆå·²æ›´æ–°ï¼‰

### å®‰è£…è„šæœ¬
- `install.sh` - ä¸€é”®å®‰è£…è„šæœ¬ï¼ˆæ”¯æŒ macOS å’Œ Linuxï¼‰
- `install-systemd.sh` - Linux systemd æœåŠ¡å®‰è£…è„šæœ¬
- `aipipe.service` - systemd æœåŠ¡é…ç½®æ–‡ä»¶

### æ–‡æ¡£æ–‡ä»¶
- `README.md` - é¡¹ç›®ä¸»æ–‡æ¡£ï¼ˆå·²æ›´æ–°ï¼‰
- `INSTALL.md` - è¯¦ç»†å®‰è£…æŒ‡å—
- `NOTIFICATION_FEATURES.md` - é€šçŸ¥åŠŸèƒ½è¯´æ˜
- `PROJECT_SUMMARY.md` - é¡¹ç›®æ€»ç»“ï¼ˆæœ¬æ–‡ä»¶ï¼‰

### æµ‹è¯•æ–‡ä»¶
- `test-notifications.sh` - é€šçŸ¥åŠŸèƒ½æµ‹è¯•è„šæœ¬

## ğŸ”§ æŠ€æœ¯å®ç°

### ä»£ç ç»“æ„
```go
// æ–°å¢çš„ç»“æ„ä½“
type EmailConfig struct {
    Enabled   bool     `json:"enabled"`
    Provider  string   `json:"provider"`   // "smtp" æˆ– "resend"
    Host      string   `json:"host"`
    Port      int      `json:"port"`
    Username  string   `json:"username"`
    Password  string   `json:"password"`
    FromEmail string   `json:"from_email"`
    ToEmails  []string `json:"to_emails"`
}

type WebhookConfig struct {
    Enabled bool   `json:"enabled"`
    URL     string `json:"url"`
    Secret  string `json:"secret,omitempty"`
}

type NotifierConfig struct {
    Email          EmailConfig     `json:"email"`
    DingTalk       WebhookConfig   `json:"dingtalk"`
    WeChat         WebhookConfig   `json:"wechat"`
    Feishu         WebhookConfig   `json:"feishu"`
    Slack          WebhookConfig   `json:"slack"`
    CustomWebhooks []WebhookConfig `json:"custom_webhooks,omitempty"`
}
```

### æ ¸å¿ƒåŠŸèƒ½å‡½æ•°
- `sendNotification()` - ç»Ÿä¸€é€šçŸ¥å…¥å£
- `sendEmailNotification()` - é‚®ä»¶é€šçŸ¥
- `sendWebhookNotification()` - Webhook é€šçŸ¥
- `buildDingTalkPayload()` - é’‰é’‰æ¶ˆæ¯æ ¼å¼
- `buildWeChatPayload()` - ä¼ä¸šå¾®ä¿¡æ¶ˆæ¯æ ¼å¼
- `buildFeishuPayload()` - é£ä¹¦æ¶ˆæ¯æ ¼å¼
- `buildSlackPayload()` - Slack æ¶ˆæ¯æ ¼å¼
- `detectWebhookType()` - æ™ºèƒ½è¯†åˆ« webhook ç±»å‹

## ğŸš€ ä½¿ç”¨æ–¹æ³•

### 1. å®‰è£…
```bash
# ä¸€é”®å®‰è£…
curl -fsSL https://raw.githubusercontent.com/rocky/aipipe/main/install.sh | bash

# æˆ–æ‰‹åŠ¨å®‰è£…
git clone https://github.com/rocky/aipipe.git
cd aipipe
go build -o aipipe aipipe.go
```

### 2. é…ç½®
ç¼–è¾‘ `~/.config/aipipe.json` æ–‡ä»¶ï¼Œé…ç½® AI æœåŠ¡å™¨å’Œé€šçŸ¥æ–¹å¼ã€‚

### 3. è¿è¡Œ
```bash
# åŸºæœ¬ä½¿ç”¨
./aipipe -f /var/log/app.log --format java

# ç³»ç»ŸæœåŠ¡ï¼ˆLinuxï¼‰
sudo ./install-systemd.sh
```

## ğŸ“Š åŠŸèƒ½å¯¹æ¯”

| åŠŸèƒ½ | åŸç‰ˆæœ¬ | æ–°ç‰ˆæœ¬ |
|------|--------|--------|
| AI æ—¥å¿—åˆ†æ | âœ… | âœ… |
| æ‰¹å¤„ç†æ¨¡å¼ | âœ… | âœ… |
| æœ¬åœ°é¢„è¿‡æ»¤ | âœ… | âœ… |
| ç³»ç»Ÿé€šçŸ¥ | âœ… | âœ… |
| é‚®ä»¶é€šçŸ¥ | âŒ | âœ… |
| é’‰é’‰é€šçŸ¥ | âŒ | âœ… |
| ä¼ä¸šå¾®ä¿¡é€šçŸ¥ | âŒ | âœ… |
| é£ä¹¦é€šçŸ¥ | âŒ | âœ… |
| Slack é€šçŸ¥ | âŒ | âœ… |
| è‡ªå®šä¹‰ Webhook | âŒ | âœ… |
| æ™ºèƒ½è¯†åˆ« | âŒ | âœ… |
| ä¸€é”®å®‰è£… | âŒ | âœ… |
| systemd æ”¯æŒ | âŒ | âœ… |

## ğŸ¯ ä½¿ç”¨åœºæ™¯

### 1. ç”Ÿäº§ç¯å¢ƒç›‘æ§
- é‡è¦é”™è¯¯è‡ªåŠ¨é€šçŸ¥è¿ç»´å›¢é˜Ÿ
- æ”¯æŒå¤šç§é€šçŸ¥æ¸ é“ï¼Œç¡®ä¿åŠæ—¶å“åº”
- æ‰¹é‡é€šçŸ¥ï¼Œé¿å…é€šçŸ¥è½°ç‚¸

### 2. å¼€å‘ç¯å¢ƒè°ƒè¯•
- å¼€å‘å›¢é˜ŸåŠæ—¶äº†è§£åº”ç”¨çŠ¶æ€
- é›†æˆåˆ° CI/CD æµç¨‹
- æ”¯æŒè‡ªå®šä¹‰ webhook é›†æˆ

### 3. ä¼ä¸šçº§åº”ç”¨
- æ”¯æŒä¼ä¸šå¾®ä¿¡ã€é’‰é’‰ç­‰ä¼ä¸šé€šè®¯å·¥å…·
- é‚®ä»¶é€šçŸ¥æ”¯æŒä¼ä¸šé‚®ç®±
- å¯é…ç½®ç­¾åéªŒè¯ï¼Œç¡®ä¿å®‰å…¨æ€§

## ğŸ” æµ‹è¯•éªŒè¯

### ç¼–è¯‘æµ‹è¯•
```bash
go mod tidy
go build -o aipipe aipipe.go
./aipipe --help
```

### åŠŸèƒ½æµ‹è¯•
```bash
./test-notifications.sh
```

### å®‰è£…æµ‹è¯•
```bash
./install.sh
```

## ğŸ“ˆ æ€§èƒ½ç‰¹æ€§

- **å†…å­˜å ç”¨**: < 50MBï¼ˆæµå¼å¤„ç†ï¼‰
- **å¤„ç†é€Ÿåº¦**: < 0.1ç§’ï¼ˆæœ¬åœ°è¿‡æ»¤ï¼‰/ 1-3ç§’ï¼ˆAI åˆ†æï¼‰
- **Token èŠ‚çœ**: 70-90%ï¼ˆæ‰¹å¤„ç†æ¨¡å¼ï¼‰
- **API è°ƒç”¨å‡å°‘**: 60-90%ï¼ˆæœ¬åœ°é¢„è¿‡æ»¤ + æ‰¹å¤„ç†ï¼‰
- **é€šçŸ¥å»¶è¿Ÿ**: < 1ç§’ï¼ˆå¼‚æ­¥å‘é€ï¼‰

## ğŸ› ï¸ ç»´æŠ¤å’Œæ‰©å±•

### ä»£ç è´¨é‡
- âœ… æ—  linter é”™è¯¯
- âœ… å®Œæ•´çš„é”™è¯¯å¤„ç†
- âœ… è¯¦ç»†çš„æ—¥å¿—è¾“å‡º
- âœ… é…ç½®éªŒè¯

### æ‰©å±•æ€§
- âœ… æ¨¡å—åŒ–è®¾è®¡
- âœ… æ˜“äºæ·»åŠ æ–°çš„é€šçŸ¥æ–¹å¼
- âœ… æ”¯æŒè‡ªå®šä¹‰ webhook
- âœ… æ™ºèƒ½è¯†åˆ«æœºåˆ¶

### æ–‡æ¡£å®Œæ•´æ€§
- âœ… å®Œæ•´çš„å®‰è£…æŒ‡å—
- âœ… è¯¦ç»†çš„é…ç½®è¯´æ˜
- âœ… ä½¿ç”¨ç¤ºä¾‹å’Œæµ‹è¯•è„šæœ¬
- âœ… æ•…éšœæ’é™¤æŒ‡å—

## ğŸ‰ é¡¹ç›®æˆæœ

### å®Œæˆçš„åŠŸèƒ½
1. âœ… æ‰©å±•é…ç½®æ–‡ä»¶ç»“æ„ï¼Œæ·»åŠ é€šçŸ¥å™¨é…ç½®æ”¯æŒ
2. âœ… å®ç°é€šçŸ¥å™¨æ¥å£å’Œå¤šç§é€šçŸ¥æ–¹å¼
3. âœ… æ·»åŠ æ™ºèƒ½è¯†åˆ«webhookç±»å‹çš„åŠŸèƒ½
4. âœ… å®ç°é‚®ä»¶é€šçŸ¥åŠŸèƒ½ï¼ˆæ”¯æŒSMTPå’ŒResendï¼‰
5. âœ… æ›´æ–°READMEæ–‡æ¡£ï¼Œæ·»åŠ é€šçŸ¥é…ç½®è¯´æ˜
6. âœ… åˆ›å»ºä¸€é”®å®‰è£…è„šæœ¬
7. âœ… åˆ›å»ºsystemdé…ç½®æ–‡ä»¶

### æ–°å¢æ–‡ä»¶
- `install.sh` - ä¸€é”®å®‰è£…è„šæœ¬
- `install-systemd.sh` - systemd å®‰è£…è„šæœ¬
- `aipipe.service` - systemd æœåŠ¡é…ç½®
- `INSTALL.md` - å®‰è£…æŒ‡å—
- `NOTIFICATION_FEATURES.md` - é€šçŸ¥åŠŸèƒ½è¯´æ˜
- `test-notifications.sh` - æµ‹è¯•è„šæœ¬
- `PROJECT_SUMMARY.md` - é¡¹ç›®æ€»ç»“

### æ›´æ–°çš„æ–‡ä»¶
- `aipipe.go` - ä¸»ç¨‹åºï¼ˆæ·»åŠ é€šçŸ¥åŠŸèƒ½ï¼‰
- `aipipe.json.example` - é…ç½®æ–‡ä»¶ç¤ºä¾‹
- `README.md` - é¡¹ç›®æ–‡æ¡£

## ğŸ”® æœªæ¥è§„åˆ’

### å¯èƒ½çš„æ‰©å±•
1. **æ›´å¤šé€šçŸ¥å¹³å°**: Telegramã€Discordã€Teams ç­‰
2. **é€šçŸ¥æ¨¡æ¿**: æ”¯æŒè‡ªå®šä¹‰é€šçŸ¥æ¶ˆæ¯æ¨¡æ¿
3. **é€šçŸ¥è§„åˆ™**: æ”¯æŒåŸºäºæ¡ä»¶çš„é€šçŸ¥è§„åˆ™
4. **é€šçŸ¥èšåˆ**: æ”¯æŒé€šçŸ¥èšåˆå’Œå»é‡
5. **é€šçŸ¥å†å²**: æ”¯æŒé€šçŸ¥å†å²è®°å½•å’ŒæŸ¥è¯¢

### æ€§èƒ½ä¼˜åŒ–
1. **å¹¶å‘é€šçŸ¥**: æ”¯æŒå¹¶å‘å‘é€é€šçŸ¥
2. **é‡è¯•æœºåˆ¶**: æ”¯æŒé€šçŸ¥å¤±è´¥é‡è¯•
3. **é™æµæ§åˆ¶**: æ”¯æŒé€šçŸ¥é¢‘ç‡é™åˆ¶
4. **ç¼“å­˜æœºåˆ¶**: æ”¯æŒé€šçŸ¥å†…å®¹ç¼“å­˜

## ğŸ“ æ”¯æŒå’Œåé¦ˆ

- **GitHub ä»“åº“**: https://github.com/xurenlu/aipipe
- **é—®é¢˜åé¦ˆ**: https://github.com/xurenlu/aipipe/issues
- **æ–‡æ¡£**: é¡¹ç›®æ ¹ç›®å½•ä¸‹çš„å„ç§ .md æ–‡ä»¶

---

**é¡¹ç›®çŠ¶æ€**: âœ… å®Œæˆ
**æœ€åæ›´æ–°**: 2025-01-17
**ç‰ˆæœ¬**: v1.0.2 (å¸¦é€šçŸ¥åŠŸèƒ½)
