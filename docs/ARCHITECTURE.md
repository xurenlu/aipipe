# AIPipe æŠ€æœ¯æ¶æ„è®¾è®¡ ğŸ—ï¸

## ğŸ“‹ ç›®å½•
- [ç³»ç»Ÿæ¦‚è¿°](#ç³»ç»Ÿæ¦‚è¿°)
- [æ ¸å¿ƒç»„ä»¶](#æ ¸å¿ƒç»„ä»¶)
- [æ•°æ®æµ](#æ•°æ®æµ)
- [é…ç½®ç®¡ç†](#é…ç½®ç®¡ç†)
- [é”™è¯¯å¤„ç†](#é”™è¯¯å¤„ç†)
- [æ€§èƒ½ä¼˜åŒ–](#æ€§èƒ½ä¼˜åŒ–)
- [æ‰©å±•æ€§è®¾è®¡](#æ‰©å±•æ€§è®¾è®¡)

## ğŸ¯ ç³»ç»Ÿæ¦‚è¿°

### æ¶æ„åŸåˆ™
- **æ¨¡å—åŒ–è®¾è®¡**: å„ç»„ä»¶ç‹¬ç«‹ï¼Œæ˜“äºæµ‹è¯•å’Œç»´æŠ¤
- **å¯é…ç½®æ€§**: æ‰€æœ‰å…³é”®å‚æ•°éƒ½å¯é…ç½®
- **å¯æ‰©å±•æ€§**: æ”¯æŒæ’ä»¶å’Œè‡ªå®šä¹‰æ‰©å±•
- **é«˜æ€§èƒ½**: æ”¯æŒé«˜å¹¶å‘å’Œå¤§æ•°æ®é‡å¤„ç†
- **å¯é æ€§**: å…·å¤‡æ•…éšœæ¢å¤å’Œé”™è¯¯å¤„ç†æœºåˆ¶

### æ•´ä½“æ¶æ„å›¾
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        AIPipe ç³»ç»Ÿæ¶æ„                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚  â”‚   è¾“å…¥å±‚     â”‚  â”‚   å¤„ç†å±‚     â”‚  â”‚   è¾“å‡ºå±‚     â”‚         â”‚
â”‚  â”‚             â”‚  â”‚             â”‚  â”‚             â”‚         â”‚
â”‚  â”‚ â€¢ æ–‡ä»¶ç›‘æ§   â”‚  â”‚ â€¢ æ—¥å¿—è§£æ   â”‚  â”‚ â€¢ æ§åˆ¶å°è¾“å‡º â”‚         â”‚
â”‚  â”‚ â€¢ æ ‡å‡†è¾“å…¥   â”‚  â”‚ â€¢ æœ¬åœ°è¿‡æ»¤   â”‚  â”‚ â€¢ ç³»ç»Ÿé€šçŸ¥   â”‚         â”‚
â”‚  â”‚ â€¢ ç½‘ç»œæµ    â”‚  â”‚ â€¢ AI åˆ†æ    â”‚  â”‚ â€¢ æ–‡ä»¶è¾“å‡º   â”‚         â”‚
â”‚  â”‚ â€¢ æ•°æ®åº“    â”‚  â”‚ â€¢ æ‰¹å¤„ç†     â”‚  â”‚ â€¢ æ—¥å¿—èšåˆ   â”‚         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚ â€¢ è§„åˆ™å¼•æ“   â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â”‚                   â”‚ â€¢ ç¼“å­˜ç®¡ç†   â”‚                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚ â€¢ å¹¶å‘æ§åˆ¶   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚  â”‚   é…ç½®å±‚     â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚   ç›‘æ§å±‚     â”‚         â”‚
â”‚  â”‚             â”‚                   â”‚             â”‚         â”‚
â”‚  â”‚ â€¢ é…ç½®ç®¡ç†   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚ â€¢ æ€§èƒ½æŒ‡æ ‡   â”‚         â”‚
â”‚  â”‚ â€¢ éªŒè¯æœºåˆ¶   â”‚  â”‚   æœåŠ¡å±‚     â”‚  â”‚ â€¢ å¥åº·æ£€æŸ¥   â”‚         â”‚
â”‚  â”‚ â€¢ çƒ­é‡è½½     â”‚  â”‚             â”‚  â”‚ â€¢ å‘Šè­¦ç³»ç»Ÿ   â”‚         â”‚
â”‚  â”‚ â€¢ æ¨¡æ¿ç³»ç»Ÿ   â”‚  â”‚ â€¢ AI æœåŠ¡    â”‚  â”‚ â€¢ æ—¥å¿—è®°å½•   â”‚         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚ â€¢ è§„åˆ™å¼•æ“   â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â”‚                   â”‚ â€¢ ç¼“å­˜æœåŠ¡   â”‚                          â”‚
â”‚                   â”‚ â€¢ é€šçŸ¥æœåŠ¡   â”‚                          â”‚
â”‚                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ§© æ ¸å¿ƒç»„ä»¶

### 1. è¾“å…¥å±‚ (Input Layer)

#### 1.1 æ–‡ä»¶ç›‘æ§å™¨ (FileWatcher)
```go
type FileWatcher struct {
    path     string
    watcher  *fsnotify.Watcher
    reader   *bufio.Reader
    position int64
    inode    uint64
    state    *FileState
}

func (fw *FileWatcher) Watch() error {
    // ç›‘æ§æ–‡ä»¶å˜åŒ–
    // å¤„ç†æ–‡ä»¶è½®è½¬
    // ç»´æŠ¤è¯»å–ä½ç½®
}
```

#### 1.2 æ ‡å‡†è¾“å…¥å¤„ç†å™¨ (StdinProcessor)
```go
type StdinProcessor struct {
    scanner *bufio.Scanner
    merger  *LogLineMerger
    batcher *LogBatcher
}

func (sp *StdinProcessor) Process() error {
    // è¯»å–æ ‡å‡†è¾“å…¥
    // åˆå¹¶å¤šè¡Œæ—¥å¿—
    // å‘é€åˆ°æ‰¹å¤„ç†å™¨
}
```

### 2. å¤„ç†å±‚ (Processing Layer)

#### 2.1 æ—¥å¿—è§£æå™¨ (LogParser)
```go
type LogParser struct {
    format string
    rules  []ParseRule
}

type ParseRule struct {
    Pattern   string
    Fields    []string
    Timestamp string
    Level     string
}

func (lp *LogParser) Parse(line string) (*LogEntry, error) {
    // è§£ææ—¥å¿—æ ¼å¼
    // æå–å…³é”®å­—æ®µ
    // æ ‡å‡†åŒ–æ•°æ®ç»“æ„
}
```

#### 2.2 æœ¬åœ°è¿‡æ»¤å™¨ (LocalFilter)
```go
type LocalFilter struct {
    rules []FilterRule
    cache map[string]bool
}

type FilterRule struct {
    Pattern string
    Action  FilterAction
    Level   LogLevel
}

func (lf *LocalFilter) Filter(entry *LogEntry) *FilterResult {
    // åº”ç”¨æœ¬åœ°è¿‡æ»¤è§„åˆ™
    // æ£€æŸ¥ç¼“å­˜
    // è¿”å›è¿‡æ»¤ç»“æœ
}
```

#### 2.3 AI åˆ†æå™¨ (AIAnalyzer)
```go
type AIAnalyzer struct {
    services []AIService
    manager  *AIServiceManager
    cache    *AnalysisCache
    batcher  *BatchProcessor
}

type AIService struct {
    Name     string
    Endpoint string
    Token    string
    Model    string
    Priority int
    Enabled  bool
}

func (aa *AIAnalyzer) Analyze(entries []LogEntry) ([]AnalysisResult, error) {
    // é€‰æ‹© AI æœåŠ¡
    // æ„å»ºåˆ†æè¯·æ±‚
    // å¤„ç†å“åº”
    // ç¼“å­˜ç»“æœ
}
```

#### 2.4 æ‰¹å¤„ç†å™¨ (BatchProcessor)
```go
type BatchProcessor struct {
    size     int
    timeout  time.Duration
    queue    chan LogEntry
    workers  int
    pool     *WorkerPool
}

func (bp *BatchProcessor) Process(entries []LogEntry) error {
    // æ‰¹é‡å¤„ç†æ—¥å¿—
    // å¹¶å‘åˆ†æ
    // ç»“æœèšåˆ
}
```

### 3. è¾“å‡ºå±‚ (Output Layer)

#### 3.1 æ§åˆ¶å°è¾“å‡ºå™¨ (ConsoleOutput)
```go
type ConsoleOutput struct {
    format    OutputFormat
    color     bool
    template  string
    filter    OutputFilter
}

func (co *ConsoleOutput) Write(result *AnalysisResult) error {
    // æ ¼å¼åŒ–è¾“å‡º
    // åº”ç”¨é¢œè‰²
    // å†™å…¥æ§åˆ¶å°
}
```

#### 3.2 é€šçŸ¥æœåŠ¡ (NotificationService)
```go
type NotificationService struct {
    providers []NotificationProvider
    config    NotificationConfig
}

type NotificationProvider interface {
    Send(notification *Notification) error
}

type MacOSNotification struct {
    title    string
    subtitle string
    message  string
    sound    string
}

func (mn *MacOSNotification) Send(notification *Notification) error {
    // å‘é€ macOS é€šçŸ¥
    // æ’­æ”¾å£°éŸ³
    // å¤„ç†é”™è¯¯
}
```

## ğŸ”„ æ•°æ®æµ

### 1. æ—¥å¿—å¤„ç†æµç¨‹
```
æ—¥å¿—è¾“å…¥ â†’ è§£æ â†’ æœ¬åœ°è¿‡æ»¤ â†’ æ‰¹å¤„ç† â†’ AIåˆ†æ â†’ ç»“æœå¤„ç† â†’ è¾“å‡º
    â†“         â†“        â†“        â†“       â†“        â†“        â†“
  æ–‡ä»¶ç›‘æ§   æ ¼å¼è¯†åˆ«   è§„åˆ™åŒ¹é…   æ‰¹é‡èšåˆ   AIæœåŠ¡   ç»“æœç¼“å­˜   æ§åˆ¶å°
  æ ‡å‡†è¾“å…¥   å­—æ®µæå–   ç¼“å­˜æ£€æŸ¥   å¹¶å‘å¤„ç†   æ•…éšœè½¬ç§»   é€šçŸ¥å‘é€   æ–‡ä»¶è¾“å‡º
  ç½‘ç»œæµ     æ—¶é—´æˆ³     ä¼˜å…ˆçº§     è´Ÿè½½å‡è¡¡   ç»“æœéªŒè¯   å‘Šè­¦è§¦å‘   æ—¥å¿—èšåˆ
```

### 2. é…ç½®ç®¡ç†æµç¨‹
```
é…ç½®æ–‡ä»¶ â†’ éªŒè¯ â†’ è§£æ â†’ çƒ­é‡è½½ â†’ åº”ç”¨
    â†“       â†“     â†“      â†“      â†“
  JSONæ ¼å¼  æ ¼å¼æ£€æŸ¥  ç»“æ„æ˜ å°„  æ–‡ä»¶ç›‘æ§  å‚æ•°æ›´æ–°
  TOMLæ ¼å¼  å¿…å¡«éªŒè¯  ç±»å‹è½¬æ¢  ä¿¡å·å¤„ç†  æœåŠ¡é‡å¯
  YAMLæ ¼å¼  èŒƒå›´æ£€æŸ¥  é»˜è®¤å€¼   é…ç½®æµ‹è¯•  é”™è¯¯æ¢å¤
```

### 3. é”™è¯¯å¤„ç†æµç¨‹
```
é”™è¯¯å‘ç”Ÿ â†’ åˆ†ç±» â†’ è®°å½• â†’ æ¢å¤ â†’ é€šçŸ¥
    â†“      â†“     â†“     â†“     â†“
  å¼‚å¸¸æ•è·  é”™è¯¯ç   æ—¥å¿—è®°å½•  è‡ªåŠ¨é‡è¯•  å‘Šè­¦å‘é€
  è¶…æ—¶æ£€æµ‹  ä¼˜å…ˆçº§  æŒ‡æ ‡ç»Ÿè®¡  é™çº§å¤„ç†  ç”¨æˆ·é€šçŸ¥
  ç½‘ç»œé”™è¯¯  ä¸Šä¸‹æ–‡  æ€§èƒ½ç›‘æ§  æ•…éšœè½¬ç§»  è¿ç»´å‘Šè­¦
```

## âš™ï¸ é…ç½®ç®¡ç†

### 1. é…ç½®ç»“æ„è®¾è®¡
```go
type Config struct {
    // AI æœåŠ¡é…ç½®
    AI AIConfig `toml:"ai" json:"ai"`
    
    // å¤„ç†é…ç½®
    Processing ProcessingConfig `toml:"processing" json:"processing"`
    
    // è¾“å‡ºé…ç½®
    Output OutputConfig `toml:"output" json:"output"`
    
    // ç›‘æ§é…ç½®
    Monitoring MonitoringConfig `toml:"monitoring" json:"monitoring"`
    
    // ç¼“å­˜é…ç½®
    Cache CacheConfig `toml:"cache" json:"cache"`
}

type AIConfig struct {
    Services []AIService `toml:"services" json:"services"`
    Default  string      `toml:"default" json:"default"`
    Timeout  int         `toml:"timeout" json:"timeout"`
    Retries  int         `toml:"retries" json:"retries"`
}

type ProcessingConfig struct {
    BatchSize     int           `toml:"batch_size" json:"batch_size"`
    BatchTimeout  time.Duration `toml:"batch_timeout" json:"batch_timeout"`
    Workers       int           `toml:"workers" json:"workers"`
    LocalFilter   bool          `toml:"local_filter" json:"local_filter"`
    ContextLines  int           `toml:"context_lines" json:"context_lines"`
}
```

### 2. é…ç½®éªŒè¯æœºåˆ¶
```go
type ConfigValidator struct {
    rules map[string]ValidationRule
}

type ValidationRule struct {
    Required bool
    Type     reflect.Type
    Min      interface{}
    Max      interface{}
    Pattern  string
}

func (cv *ConfigValidator) Validate(config *Config) error {
    // éªŒè¯å¿…å¡«å­—æ®µ
    // æ£€æŸ¥æ•°æ®ç±»å‹
    // éªŒè¯å–å€¼èŒƒå›´
    // æ£€æŸ¥æ ¼å¼æ¨¡å¼
}
```

### 3. çƒ­é‡è½½æœºåˆ¶
```go
type ConfigReloader struct {
    configPath string
    watcher    *fsnotify.Watcher
    current    *Config
    callbacks  []ConfigCallback
}

type ConfigCallback func(old, new *Config) error

func (cr *ConfigReloader) Watch() error {
    // ç›‘æ§é…ç½®æ–‡ä»¶å˜åŒ–
    // é‡æ–°åŠ è½½é…ç½®
    // é€šçŸ¥å›è°ƒå‡½æ•°
    // å¤„ç†é‡è½½é”™è¯¯
}
```

## ğŸš¨ é”™è¯¯å¤„ç†

### 1. é”™è¯¯åˆ†ç±»ä½“ç³»
```go
type ErrorLevel int

const (
    ErrorLevelInfo ErrorLevel = iota
    ErrorLevelWarning
    ErrorLevelError
    ErrorLevelCritical
)

type ErrorCategory string

const (
    ErrorCategoryConfig    ErrorCategory = "config"
    ErrorCategoryNetwork   ErrorCategory = "network"
    ErrorCategoryAI        ErrorCategory = "ai"
    ErrorCategoryProcessing ErrorCategory = "processing"
    ErrorCategoryOutput    ErrorCategory = "output"
)

type AIPipeError struct {
    Code        string
    Category    ErrorCategory
    Level       ErrorLevel
    Message     string
    Suggestion  string
    Context     map[string]interface{}
    Timestamp   time.Time
    StackTrace  string
}
```

### 2. é”™è¯¯æ¢å¤æœºåˆ¶
```go
type ErrorRecovery struct {
    strategies map[ErrorCategory]RecoveryStrategy
    maxRetries int
    backoff    time.Duration
}

type RecoveryStrategy interface {
    CanRecover(err error) bool
    Recover(err error) error
}

type ConfigErrorRecovery struct {
    fallbackConfig *Config
    validator      *ConfigValidator
}

func (cer *ConfigErrorRecovery) Recover(err error) error {
    // ä½¿ç”¨é»˜è®¤é…ç½®
    // éªŒè¯é…ç½®å®Œæ•´æ€§
    // è®°å½•æ¢å¤æ—¥å¿—
}
```

## âš¡ æ€§èƒ½ä¼˜åŒ–

### 1. å¹¶å‘å¤„ç†è®¾è®¡
```go
type WorkerPool struct {
    workers    int
    jobQueue   chan Job
    resultChan chan Result
    quit       chan bool
    wg         sync.WaitGroup
}

type Job struct {
    ID      string
    Data    interface{}
    Timeout time.Duration
}

func (wp *WorkerPool) Start() {
    for i := 0; i < wp.workers; i++ {
        wp.wg.Add(1)
        go wp.worker()
    }
}

func (wp *WorkerPool) worker() {
    defer wp.wg.Done()
    for {
        select {
        case job := <-wp.jobQueue:
            wp.processJob(job)
        case <-wp.quit:
            return
        }
    }
}
```

### 2. ç¼“å­˜ç­–ç•¥
```go
type CacheStrategy interface {
    Get(key string) (interface{}, bool)
    Set(key string, value interface{}, ttl time.Duration)
    Delete(key string)
    Clear()
    Stats() CacheStats
}

type LRUCache struct {
    capacity int
    items    map[string]*CacheItem
    list     *list.List
    mutex    sync.RWMutex
}

type CacheItem struct {
    key        string
    value      interface{}
    expiry     time.Time
    accessTime time.Time
}
```

### 3. å†…å­˜ç®¡ç†
```go
type MemoryManager struct {
    maxMemory    int64
    currentUsage int64
    gcThreshold  float64
    mutex        sync.RWMutex
}

func (mm *MemoryManager) Allocate(size int64) error {
    mm.mutex.Lock()
    defer mm.mutex.Unlock()
    
    if mm.currentUsage+size > mm.maxMemory {
        return ErrMemoryExceeded
    }
    
    mm.currentUsage += size
    return nil
}

func (mm *MemoryManager) GC() {
    // è§¦å‘åƒåœ¾å›æ”¶
    // æ¸…ç†è¿‡æœŸç¼“å­˜
    // é‡Šæ”¾æœªä½¿ç”¨å†…å­˜
}
```

## ğŸ”§ æ‰©å±•æ€§è®¾è®¡

### 1. æ’ä»¶ç³»ç»Ÿ
```go
type Plugin interface {
    Name() string
    Version() string
    Initialize(config map[string]interface{}) error
    Process(input interface{}) (interface{}, error)
    Cleanup() error
}

type PluginManager struct {
    plugins map[string]Plugin
    config  map[string]map[string]interface{}
}

func (pm *PluginManager) LoadPlugin(path string) error {
    // åŠ¨æ€åŠ è½½æ’ä»¶
    // éªŒè¯æ’ä»¶æ¥å£
    // åˆå§‹åŒ–æ’ä»¶
}
```

### 2. ä¸­é—´ä»¶ç³»ç»Ÿ
```go
type Middleware interface {
    Process(ctx *Context, next func(*Context) error) error
}

type Context struct {
    Request  interface{}
    Response interface{}
    Metadata map[string]interface{}
}

type MiddlewareChain struct {
    middlewares []Middleware
}

func (mc *MiddlewareChain) Process(ctx *Context) error {
    // æ‰§è¡Œä¸­é—´ä»¶é“¾
    // å¤„ç†é”™è¯¯
    // ä¼ é€’ä¸Šä¸‹æ–‡
}
```

### 3. äº‹ä»¶ç³»ç»Ÿ
```go
type EventBus struct {
    subscribers map[string][]EventHandler
    mutex       sync.RWMutex
}

type EventHandler func(Event) error

type Event struct {
    Type      string
    Data      interface{}
    Timestamp time.Time
    Source    string
}

func (eb *EventBus) Subscribe(eventType string, handler EventHandler) {
    // è®¢é˜…äº‹ä»¶
    // æ³¨å†Œå¤„ç†å™¨
    // ç®¡ç†ç”Ÿå‘½å‘¨æœŸ
}

func (eb *EventBus) Publish(event Event) error {
    // å‘å¸ƒäº‹ä»¶
    // é€šçŸ¥è®¢é˜…è€…
    // å¤„ç†é”™è¯¯
}
```

## ğŸ“Š ç›‘æ§ä¸å¯è§‚æµ‹æ€§

### 1. æŒ‡æ ‡æ”¶é›†
```go
type MetricsCollector struct {
    counters   map[string]int64
    gauges     map[string]float64
    histograms map[string]*Histogram
    mutex      sync.RWMutex
}

type Histogram struct {
    buckets []float64
    counts  []int64
    sum     float64
    count   int64
}

func (mc *MetricsCollector) IncrementCounter(name string, value int64) {
    // å¢åŠ è®¡æ•°å™¨
    // è®°å½•æ—¶é—´æˆ³
    // è§¦å‘å‘Šè­¦
}
```

### 2. å¥åº·æ£€æŸ¥
```go
type HealthChecker struct {
    checks map[string]HealthCheck
    status HealthStatus
}

type HealthCheck func() error

type HealthStatus struct {
    Status    string            `json:"status"`
    Timestamp time.Time         `json:"timestamp"`
    Checks    map[string]string `json:"checks"`
    Uptime    time.Duration     `json:"uptime"`
}

func (hc *HealthChecker) Check() HealthStatus {
    // æ‰§è¡Œå¥åº·æ£€æŸ¥
    // æ”¶é›†çŠ¶æ€ä¿¡æ¯
    // è¿”å›å¥åº·çŠ¶æ€
}
```

### 3. æ—¥å¿—è®°å½•
```go
type Logger struct {
    level    LogLevel
    outputs  []LogOutput
    formatter LogFormatter
    mutex    sync.RWMutex
}

type LogOutput interface {
    Write(entry LogEntry) error
}

type LogEntry struct {
    Level     LogLevel
    Message   string
    Timestamp time.Time
    Fields    map[string]interface{}
    Caller    string
}

func (l *Logger) Log(level LogLevel, message string, fields map[string]interface{}) {
    // æ ¼å¼åŒ–æ—¥å¿—
    // å†™å…¥è¾“å‡º
    // å¤„ç†é”™è¯¯
}
```

---

**ğŸ“ æ³¨æ„**: æœ¬æ¶æ„è®¾è®¡å°†æ ¹æ®å®é™…å¼€å‘éœ€æ±‚å’Œæ€§èƒ½æµ‹è¯•ç»“æœè¿›è¡Œè°ƒæ•´å’Œä¼˜åŒ–ã€‚æ¯ä¸ªç»„ä»¶éƒ½åº”è¯¥å…·å¤‡è‰¯å¥½çš„æµ‹è¯•è¦†ç›–ç‡å’Œæ–‡æ¡£è¯´æ˜ã€‚
